


![输入图片说明](/imgs/2025-09-11/DYwOhxZG3QwNAUzR.png)

# 线程与多线程
![输入图片说明](/imgs/2025-09-11/5LdrGFC4DLYsz2B1.png)



## 用户级线程与进程的区别
用户级线程（User-Level Threads，ULT）和用户级进程（User-Level Processes）的主要区别在于内核感知度、资源分配和执行方式。用户级进程是一个独立的、资源拥有单位，有自己的内存空间和系统资源，而用户级线程是在一个进程内部，由用户库管理的一组执行流，它依赖于所属的进程来获得资源，且操作系统内核无法直接感知到用户级线程的存在。﻿

用户级线程(User-Level Threads, ULT)

-   **内核不可感知**：
    
    操作系统内核不知道用户级线程的存在，它只会感知用户进程。﻿
    
-   **进程是资源分配单位**：
    
    内核将资源分配给用户进程，用户线程共享同一进程的资源，无法跨进程共享。﻿
    
-   **用户态控制**：
    
    线程的创建、同步、调度和管理都由用户空间的线程库来完成，无需内核干预。﻿
    
-   **调度限制**：
    
    在只有一个处理器的系统上，同一进程中的多个用户线程不能同时运行，因为处理器分配给进程，而进程只能有一个用户线程在执行。﻿
    
-   **阻塞问题**：
    
    当一个用户线程发起系统调用而阻塞时，会导致整个进程被挂起，因为它没有被内核感知，无法调度其他用户线程。﻿
    

用户级进程(User-Level Processes)

-   **内核可见**：
    
    是操作系统内核可感知的调度对象，内核为其提供资源和管理。﻿
    
-   **独立资源**：
    
    每个进程拥有独立的虚拟地址空间、代码和数据等资源，相互隔离。﻿
    
-   **执行实体**：
    
    是程序的一次执行过程，是操作系统分配资源的基本单位。﻿
    
-   **内核态和用户态**：
    
    进程可以在用户态和内核态之间切换，访问系统资源时会陷入内核态。﻿
    
-   **多核利用**：
    
    内核级线程（另一种形式的线程，与用户级进程类似）可以利用多核CPU，而用户级线程无法做到。
<!--stackedit_data:
eyJoaXN0b3J5IjpbNDE0NjQ2MjQ1XX0=
-->