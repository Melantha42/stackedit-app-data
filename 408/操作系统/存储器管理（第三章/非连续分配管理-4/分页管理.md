




# **基本分页存储管理 - 核心精讲与考点汇总**

#### **一、 核心思想**
将进程的**逻辑地址空间**离散地划分为多个**固定大小**的页面，将**物理内存空间**划分为同样大小的**内存块/页框**。进程的各个页面可以离散地放入不同的内存块中。

**易混概念辨析（必须掌握）**：
*   **“页 / 页面”**：指进程逻辑地址空间的划分单位。
*   **“内存块 / 页框 / 物理块”**：指物理内存空间的划分单位。
*   **“页号”** vs **“块号”**：逻辑页面对应的物理块编号。

---

#### **二、 关键机制与数据结构**

**1. 页表**
*   **作用**：记录进程页面与内存块的映射关系。**一个进程对应一张页表**。
*   **页表项**：每个页表项包含 **“块号”** 。**“页号”是隐含的**，即页表项的索引。
*   **存储**：页表本身存放在**连续的内存块**中。
*   **计算页表项地址**：`i号页表项地址 = 页表起始地址 + i * 页表项大小`

**2. 逻辑地址结构**
*   地址被划分为两部分：`[ 页号 P | 页内偏移量 W ]`
*   **计算**：
    *   `页号 P = 逻辑地址 / 页面大小`
    *   `页内偏移量 W = 逻辑地址 % 页面大小`
*   **高效计算（重要考点）**：若页面大小为 `2^n` 字节，则：
    *   地址的**低n位**即为**页内偏移量W**。
    *   地址的**剩余高位**即为**页号P**。

**3. 基本地址变换机构（核心流程）**
此流程必须烂熟于心，常出综合题。访存次数：**2次**。

| 步骤 | 操作 | 说明/考点 |
| :--- | :--- | :--- |
| ① | **计算页号与偏移量** | 根据逻辑地址计算出 `P` 和 `W`。 |
| ② | **合法性检查** | 比较 `P` 与 **页表长度**（存放在PTR中），若 `P ≥ 页表长度`，则产生**越界中断**。 |
| ③ | **查页表** | **第一次访存**。根据 **页表起始地址**（PTR中）和 `P`，找到对应的页表项，读出**内存块号b**。 |
| ④ | **合成物理地址** | `物理地址 = b * 页面大小 + W` |
| ⑤ | **访问目标单元** | **第二次访存**。根据物理地址访问所需指令或数据。 |

---

#### **三、 性能优化与扩展**

**1. 具有快表的地址变换机构**
*   **快表**：又称**TLB**，是一块高速缓存，用于存放**最近访问过的页表项副本**。
*   **工作流程**：计算完 `P` 和 `W` 后，先查快表。
    *   **命中**：直接获得块号 `b`，合成物理地址。**总共只需1次访存**。
    *   **未命中**：才去内存查页表，并将此页表项调入快表。**总共需要2次访存**。
*   **TLB vs Cache**：
    *   **TLB**：专门缓存**页表项**。
    *   **Cache**：缓存**普通的内存数据**。

**2. 多级页表（解决单级页表问题）**
*   **问题**：单级页表过大，需要连续大内存空间，且常驻内存不经济。
*   **解决方案**：将页表本身再分页，建立页表的页表。
    *   **逻辑地址结构**：`[ 一级页号 P1 | 二级页号 P2 | 页内偏移量 W ]`
    *   **访存次数（无快表）**：**N级页表，访问一个逻辑地址需要N+1次访存**。
        *   例如，两级页表需要**3次访存**（查顶级页表 -> 查二级页表 -> 访问数据）。

---

### **核心考点与权重划分**

#### **⭐⭐⭐⭐⭐ 五星核心（必须掌握计算与流程）**

*   **基本地址变换流程**：能完整写出从逻辑地址到物理地址的每一步，特别是**访存次数**。
*   **逻辑地址结构分析**：给定逻辑地址位数、页面大小，能计算出页号和页内偏移量的位数，并能画出地址结构图。
*   **具有快表的地址变换**：理解其原理，并能计算在给定命中率下的**有效访问时间**。

#### **⭐⭐⭐⭐ 四星重点（理解原理与区别）**

*   **多级页表**：理解其**解决什么问题**（大页表、连续空间）、**原理**（分级索引）和**代价**（增加访存次数）。
*   **TLB与Cache的区别**：能够清晰辨析。

#### **⭐⭐⭐ 三星理解（记忆概念）**

*   **页表项地址计算**。
*   **页表在内存中的存储方式**（连续存放）。

### **总结与备考提示**

分页管理是**现代操作系统的基石**。学习时，务必抓住以下主线：

1.  **核心矛盾**：如何通过“页表”这个数据结构，实现**离散分配**和**连续逻辑**的统一。
2.  **性能瓶颈**：访存次数是性能关键，因此引入了**快表** 和 **多级页表** 这两种看似矛盾（一个减少访存，一个增加访存）实则协同（多级页表解决空间问题，快表解决多级带来的速度问题）的技术。
3.  **考查形式**：极大概率出**综合应用题**，要求你根据给定的地址、页面大小、页表内容等条件，进行地址转换。选择题则会考查基本概念和特性的判断。

![输入图片说明](/imgs/2025-10-14/iHSECMHCIfmC4W10.png)

![输入图片说明](/imgs/2025-10-14/Z5JoyUoKR0CbooIq.png)

![输入图片说明](/imgs/2025-10-14/U0HFxTZ1RB00shde.png)
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTg3MzE3NjYyMF19
-->