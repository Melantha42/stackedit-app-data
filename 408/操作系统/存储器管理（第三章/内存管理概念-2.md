



# **OS内存管理核心功能精要总结**

内存管理旨在实现两个核心目标：**虚拟性（扩充）** 与 **安全性（保护）**。

#### **一、 内存扩充（实现虚拟性）**

**核心思想**：通过地址转换技术，让用户程序认为它拥有一个连续、完整的巨大内存空间，而无需关心物理内存的实际大小和碎片情况。

**实现方式：地址转换**

1.  **绝对装入**
    *   **时期**：单道程序阶段，无操作系统或非常简单。
    *   **负责者**：**编译器**。
    *   **特点**：在编译时直接产生物理地址。程序必须装入内存的固定位置。**现代OS已不采用。**

2.  **可重定位装入（静态重定位）**
    *   **时期**：早期多道批处理阶段。
    *   **负责者**：**装入程序**。
    *   **特点**：在程序**装入内存时**，一次性完成所有逻辑地址到物理地址的转换。**装入后地址不可再移动**，不灵活。

3.  **动态运行时装入（动态重定位）**
    *   **时期**：**现代操作系统**。
    *   **负责者**：硬件MMU（内存管理单元）与OS协同。
    *   **特点**：在程序**运行时**才进行地址转换。需要一个**重定位寄存器（基址寄存器）**。
    *   **公式**：**物理地址 = 逻辑地址 + 重定位寄存器内容**。
    *   **优点**：程序在物理内存中可以非连续存放、便于移动和交换，是实现虚拟内存技术的基础。**【408高频考点】**

#### **二、 存储保护（保证安全性）**

**核心思想**：确保每个进程只能在自己的内存空间内运行，防止一个进程越界访问而破坏操作系统或其他进程。

**实现方式：硬件寄存器检查**

1.  **上下限寄存器**
    *   **机制**：CPU中设置一对寄存器，分别存放进程的**物理地址上限**和**下限**。每次访存时，硬件自动检查地址是否在上下限之间，若越界则产生中断。

2.  **重定位寄存器 & 界地址寄存器（现代常用方式）**
    *   **机制**：
        *   **重定位寄存器（基址寄存器）**：存放进程的**起始物理地址**（用于地址转换）。
        *   **界地址寄存器（限长寄存器）**：存放进程的**最大逻辑地址**（即程序长度）。
    *   **检查步骤**：
        1.  CPU发出**逻辑地址**。
        2.  硬件自动检查：`逻辑地址 ≤ 界地址寄存器值`？
            *   若否，则产生**地址越界**中断。
            *   若是，则与基址寄存器相加生成**物理地址**。
    *   **此方式将地址转换和存储保护合二为一，效率高。【408重要考点】**

---

### **总结与备考提示**

*   **抓住核心**：内存管理的这两大功能，最终都依赖于硬件（寄存器）的支持。
*   **理解流程**：对于**动态重定位**，要能清晰描述“发出逻辑地址 -> 越界检查 -> 与基址相加 -> 得到物理地址”的完整过程。
*   **考查形式**：这部分知识常以**选择题**出现，要求判断不同装入方式的特点或存储保护的工作原理。它是理解后续分页、分段等具体管理方式的基础。


<!--stackedit_data:
eyJoaXN0b3J5IjpbLTg5ODA3NDQ5XX0=
-->